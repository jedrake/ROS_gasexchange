#------------------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------------------
#- This script downloads all the data from HIEv
#------------------------------------------------------------------------------------------------------------------
#------------------------------------------------------------------------------------------------------------------


#------------------------------------------------------------------------------------------------------------------
#- check if the data and output directories exist. If they don't, create them.
dir.create(file.path("Data"),showWarnings=F)
dir.create(file.path("Output"),showWarnings=F)
#------------------------------------------------------------------------------------------------------------------


#------------------------------------------------------------------------------------------------------------------
#- get the soil moisture data
downloadHIEv(searchHIEv("ROS_MD_PM_SOILMOIST-HANDHELD_L2.csv"),topath="Data/")
downloadHIEv(searchHIEv("ROS_MD_PM_SOILMOIST-LOGGERS_L1.csv"),topath="Data/")

downloadHIEv(searchHIEv("ROS_MD_PM_SOILMOIST-CODES.csv"),topath="Data/")

#find all of the files with soil moisture at ROS
dfr <- downloadTOA5(filename="ROS_[0-9]_ROS[0-9][0-9]Table15min",maxnfiles=120,topath="Data/VWC/",
                    startDate="2012-08-01",endDate="2013-12-1")
#------------------------------------------------------------------------------------------------------------------




#------------------------------------------------------------------------------------------------------------------
#- get the leaf-level gas exchange data
downloadHIEv(searchHIEv("ROS_MD_GX-Asat_120410-130516_L1.csv"),topath="Data/")
#------------------------------------------------------------------------------------------------------------------



#------------------------------------------------------------------------------------------------------------------
#- get the leaf water potential data
downloadHIEv(searchHIEv("ROS_MD_PM_LWP_20121109-20130702_L1.csv"),topath="Data/")
downloadHIEv(searchHIEv("ROS_MD_PM_LWP_2012-10-04_L1.csv"),topath="Data/")
#------------------------------------------------------------------------------------------------------------------



#------------------------------------------------------------------------------------------------------------------
#- get the leaf-C isotope data
downloadHIEv(searchHIEv("ROS_MD_PM_LEAF-ISOTOPES_20121221-20130326_L1.csv"),topath="Data/")
#------------------------------------------------------------------------------------------------------------------


